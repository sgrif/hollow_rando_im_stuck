!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequire9427;let a;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequire9427=i),i.register("19w4h",(function(t,n){var r,i;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},i=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("kzLHk",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var i={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),i[e]=t),t}})),i("19w4h").register(JSON.parse('{"9ljme":"index.7d24691c.js","kwLru":"hollow_rando_im_stuck_wasm_bg.e709f6c4.wasm"}'));const o=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});o.decode();let s=null;function l(){return null!==s&&s.buffer===a.memory.buffer||(s=new Uint8Array(a.memory.buffer)),s}function c(e,t){return o.decode(l().subarray(e,e+t))}let u=0;function f(e,t){const n=t(1*e.length);return l().set(e,n/1),u=e.length,n}let d=null;function p(){return null!==d&&d.buffer===a.memory.buffer||(d=new Int32Array(a.memory.buffer)),d}var y;y=i("kzLHk").getBundleURL("9ljme")+i("19w4h").resolve("kwLru");var w=async function e(t){void 0===t&&(t=new URL(y));const n={wbg:{}};n.wbg.__wbg_alert_2732dbdb1fb5fe0d=function(e,t){alert(c(e,t))},n.wbg.__wbindgen_init_externref_table=function(){const e=a.__wbindgen_export_0,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:r,module:i}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,n);return a=r.exports,e.__wbindgen_wasm_module=i,a.__wbindgen_start(),a};const m=(()=>{if("undefined"==typeof self)return!1;if("top"in self&&self!==top);else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),h=m?Promise.resolve().then((function(){return b})):Promise.resolve().then((function(){return x}));m?Promise.resolve().then((function(){return k})):Promise.resolve().then((function(){return P}));m?Promise.resolve().then((function(){return A})):Promise.resolve().then((function(){return S}));const _=async e=>{const t=await e.getFile();return t.handle=e,t};var b={__proto__:null,default:async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach(((e,n)=>{t[n]={description:e.description||"",accept:{}},e.mimeTypes?e.mimeTypes.map((r=>{t[n].accept[r]=e.extensions||[]})):t[n].accept["*/*"]=e.extensions||[]}));const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(_));return e[0].multiple?r:r[0]}};function v(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return v=function(e){this.s=e,this.n=e.next},v.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new v(e)}const g=async(e,t,n=e.name,r)=>{const i=[],a=[];var o,s=!1,l=!1;try{for(var c,u=function(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new v(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());s=!(c=await u.next()).done;s=!1){const o=c.value,s=`${n}/${o.name}`;"file"===o.kind?a.push(o.getFile().then((t=>(t.directoryHandle=e,t.handle=o,Object.defineProperty(t,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>s}))))):"directory"!==o.kind||!t||r&&r(o)||i.push(g(o,t,s,r))}}catch(e){l=!0,o=e}finally{try{s&&null!=u.return&&await u.return()}finally{if(l)throw o}}return[...(await Promise.all(i)).flat(),...await Promise.all(a)]};var k={__proto__:null,default:async(e={})=>{e.recursive=e.recursive||!1;const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn});return g(t,e.recursive,void 0,e.skipDirectory)}},A={__proto__:null,default:async(e,t=[{}],n=null,r=!1,i=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const a=[];let o=null;if(e instanceof Blob&&e.type?o=e.type:e.headers&&e.headers.get("content-type")&&(o=e.headers.get("content-type")),t.forEach(((e,t)=>{a[t]={description:e.description||"",accept:{}},e.mimeTypes?(0===t&&o&&e.mimeTypes.push(o),e.mimeTypes.map((n=>{a[t].accept[n]=e.extensions||[]}))):o&&(a[t].accept[o]=e.extensions||[])})),n)try{await n.getFile()}catch(e){if(n=null,r)throw e}const s=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:a,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&i&&i();const l=await s.createWritable();if("stream"in e){const t=e.stream();return await t.pipeTo(l),s}return"body"in e?(await e.body.pipeTo(l),s):(await l.write(await e),await l.close(),s)}},x={__proto__:null,default:async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise(((t,n)=>{const r=document.createElement("input");r.type="file";const i=[...e.map((e=>e.mimeTypes||[])),...e.map((e=>e.extensions||[]))].join();r.multiple=e[0].multiple||!1,r.accept=i||"";const a=e=>{"function"==typeof o&&o(),t(e)},o=e[0].legacySetup&&e[0].legacySetup(a,(()=>o(n)),r);r.addEventListener("change",(()=>{a(r.multiple?Array.from(r.files):r.files[0])})),r.click()})))},P={__proto__:null,default:async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise(((t,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const i=e=>{"function"==typeof a&&a(),t(e)},a=e[0].legacySetup&&e[0].legacySetup(i,(()=>a(n)),r);r.addEventListener("change",(()=>{let t=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(t=t.filter((t=>t.webkitRelativePath.split("/").every((t=>!e[0].skipDirectory({name:t,kind:"directory"})))))):t=t.filter((e=>2===e.webkitRelativePath.split("/").length)),i(t)})),r.click()})))},S={__proto__:null,default:async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement("a");let r=e;"body"in e&&(r=await async function(e,t){const n=e.getReader(),r=new ReadableStream({start:e=>async function t(){return n.read().then((({done:n,value:r})=>{if(!n)return e.enqueue(r),t();e.close()}))}()}),i=new Response(r),a=await i.blob();return n.releaseLock(),new Blob([a],{type:t})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(await r);const i=()=>{"function"==typeof a&&a()},a=t.legacySetup&&t.legacySetup(i,(()=>a()),n);return n.addEventListener("click",(()=>{setTimeout((()=>URL.revokeObjectURL(n.href)),3e4),i()})),n.click(),null}};var R,L=function(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()};function O(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function T(){var e,t,n;return R||(e="keyval-store",t="keyval",n=L().then((function(){var n=indexedDB.open(e);return n.onupgradeneeded=function(){return n.result.createObjectStore(t)},O(n)})),R=function(e,r){return n.then((function(n){return r(n.transaction(t,e).objectStore(t))}))}),R}let j=document.querySelector("#select_files"),E=document.querySelector("#run"),U=document.querySelector("#show_items"),q=document.querySelector("#show_unlocked_locations"),D=document.querySelector("#output"),F=document.querySelector("#raw_spoiler_status"),I=document.querySelector("#tracker_data_status");class B{static async try_deserialize(){let e=new B;return e.raw_spoiler=await H.try_deserialize("RawSpoiler.json"),e.tracker_data=await H.try_deserialize("TrackerData.json"),e}async open_picker(){let e=await async function(...e){return(await h).default(...e)}({description:"RawSpoiler.json and TrackerData.json",multiple:!0});await this.raw_spoiler.find_in_list(e),await this.tracker_data.find_in_list(e)}}class H{static async try_deserialize(e){let t=new H;return t.name=e,t.handle=await function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:T())("readonly",(function(t){return O(t.get(e))}))}(e),t}async find_in_list(e){let t;(t=e.find((e=>e.name==this.name)))&&(this.file=t,this.handle=t.handle,await function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:T())("readwrite",(function(n){return n.put(t,e),O(n.transaction)}))}(this.name,t.handle))}async is_available(){return this.handle?this.handle_has_permission():this.file}async handle_has_permission(){return this.handle&&"denied"!=await this.handle.queryPermission()}async get_data(){return this.handle&&"granted"==await this.handle.requestPermission()&&(this.file=await this.handle.getFile()),new Uint8Array(await this.file.arrayBuffer())}async status(){return await this.handle_has_permission()?`${this.name} will be reloaded when changed`:this.file?`${this.name} selected (automatic reloading not detected. Click "Select Files" when the file changes, or use a chromium based browser`:`${this.name} has not been selected`}}async function z(){let e=await files.raw_spoiler.is_available(),t=await files.tracker_data.is_available();F.innerHTML=await files.raw_spoiler.status(),I.innerHTML=await files.tracker_data.status(),E.disabled=!(e&&t)}(async()=>{await w(),window.files=await B.try_deserialize(),await z(),j.addEventListener("click",(async function(){await files.open_picker(),await z()})),E.addEventListener("click",(async function(){D.innerHTML=function(e,t,n,r){try{const s=a.__wbindgen_add_to_stack_pointer(-16),l=f(e,a.__wbindgen_malloc),d=u,y=f(t,a.__wbindgen_malloc),w=u;a.run(s,l,d,y,w,n,r);var i=p()[s/4+0],o=p()[s/4+1];let m;return 0!==i&&(m=c(i,o).slice(),a.__wbindgen_free(i,1*o)),m}finally{a.__wbindgen_add_to_stack_pointer(16)}}(await files.raw_spoiler.get_data(),await files.tracker_data.get_data(),U.checked,q.checked)}))})()}();
//# sourceMappingURL=index.7d24691c.js.map
